<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pagina HTML con codice Flask</title>
</head>
<body>
  <h1>Pagina HTML con codice Flask</h1>

  <p>Di seguito è riportato un esempio di codice Python Flask con un paragrafo di commento:</p>

  <pre>
    <code>
      from flask import Flask, request, make_response, render_template, session
      from datetime import datetime

      app = Flask(__name__)
      app.secret_key = 'supersecretkey'  # Chiave segreta per firmare la sessione

      @app.route('/')
      def index():
          username = session.get('username')
          last_access = session.get('last_access')
          if username:
              return f'Ciao {username}! Ultimo accesso: {last_access}'
          else:
              return render_template('login.html')

      @app.route('/login', methods=['POST'])
      def login():
          username = request.form.get('username')
          if username:
              session['username'] = username
              session['last_access'] = datetime.now().strftime('%Y-%m-%d %H:%M:%S')
              return f'Login effettuato come {username}.'
          else:
              return 'Nome utente mancante. Impossibile effettuare il login.'

      @app.route('/logout')
      def logout():
          session.pop('username', None)
          session.pop('last_access', None)
          return 'Logout effettuato.'

      # Questo codice Flask crea una semplice applicazione web con
      # tre rotte principali: '/' per la pagina principale, '/login'
      # per effettuare il login e '/logout' per effettuare il logout.
      # L'applicazione utilizza le sessioni per memorizzare l'username
      # dell'utente e l'ultima volta in cui è stato effettuato l'accesso.

      if __name__ == '__main__':
          app.run()
    </code>
  </pre>

  <p>Di seguito è riportato un altro codice Python aggiuntivo con un paragrafo di commento:</p>

  <pre>
    <code>
      # Aggiungi qui il tuo codice Python aggiuntivo
      # per estendere la funzionalità del tuo progetto Flask.

      # Questo codice aggiuntivo può includere altre rotte,
      # funzioni, logica di business, integrazioni di database, ecc.

      # Assicurati di seguire la sintassi corretta di Flask
      # e di includere eventuali dipendenze necessarie.
    </code>
  </pre>
</body>
</html>
